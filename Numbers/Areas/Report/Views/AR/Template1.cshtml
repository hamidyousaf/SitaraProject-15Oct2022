
@{
    ViewData["Title"] = "Reports";
    ViewData["CurrentPage"] = "Reports";

    var companyName = Context.Session.GetString("CompanyName");
    var companyId = Context.Session.GetInt32("CompanyId").Value;
}
<style>
    .input-group > .select2-container {
        width: 100% !important;
    }

</style>

<div class="col-lg-12">
    <div class="ibox">
        <div class="ibox-content">
            <div class="row">
                <div class="col-lg-12">
                    <form id="report" class="form-horizontal" method="post">
                        <input type="hidden" name="CompanyName" value="@companyName" />
                        <input type="hidden" name="CompanyId" value="@companyId" />
                        <div class="row">
                            <div class="col-lg-5 col-md-12 col-sm-12">
                                <div class="form-group">
                                    <label>Report Name</label>
                                    <div class="input-group col-lg-12 col-sm-12">
                                        <select asp-items="@ViewBag.Reports" autofocus class="form-control" id="ReportTitle" data-validation="required" name="ReportTitle">
                                            <option disabled="disabled" selected="selected">Select Report...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-5 col-md-11 col-sm-11" style="margin-left:20px">
                                <div class="form-group" id="typehead" style="display:none;">
                                    <label>Report Type</label>
                                    <div class="input-group col-lg-12 col-sm-12">
                                        <select  id="ReportType" name="ReportType">
                                            <option value="1" selected="selected">Both</option>
                                            <option value="2">Sale Invoice</option>
                                            <option value="3">Sale Return</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-5 col-md-11 col-sm-11" style="margin-left:20px">
                                <div class="form-group" id="vehicleNo" style="display:none;">
                                    <label>Vehicle #</label>
                                    <div class="input-group col-lg-12 col-sm-12">
                                        <input type="text" name="VehicleNo" id="VehicleNo" />
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="row" id="divLevels2">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="col-lg-2">
                                        <div class="radio radio-success">
                                            <input name="grpRadio" type="radio" checked value="SalePersonOn" />
                                            <label>SalePerson</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="radio radio-success">
                                            <input name="grpRadio" type="radio" value="CustomerOn" />
                                            <label>Customer</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="radio radio-success">
                                            <input name="grpRadio" type="radio" value="AgentOn" />
                                            <label>Agent</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="radio radio-success">
                                            <input name="grpRadio" type="radio" value="CityOn" />
                                            <label>City</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="radio radio-success">
                                            <input name="grpRadio" type="radio" value="CategoryOn" />
                                            <label>Category</label>
                                        </div>
                                    </div>
                                   
                                </div>
                            </div>
                        </div>
                      


                        

                    
                        <div class="row">
                            <div class="col-lg-5 col-sm-12">
                                <div class="row">
                                    <div class="col-lg-6 col-sm-6" id="divStartDate">
                                        <div class="form-group">
                                            <label>Start Date</label>
                                            <div class="input-group date">
                                                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                <input class="form-control custom-date-picker" data-validation="required" type="text" id="StartDate" name="StartDate" value=@CommonHelper.CurrentDate />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-sm-6" id="divEndDate">
                                        <div class="form-group">
                                            <label>End Date</label>
                                            <div class="input-group date">
                                                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                <input class="form-control custom-date-picker" data-validation="required" type="text" id="EndDate" name="EndDate" value=@CommonHelper.CurrentDate />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-12 col-sm-12" id="divSONo">
                                <div class="form-group">
                                    <label>SO#</label>
                                    <div class="input-group col-lg-12 col-sm-12">
                                        <select asp-items="@ViewBag.SONo" id="SONo" name="SONo">
                                            <option value="0" selected="selected">Select All...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-2 col-md-12 col-sm-12" id="divApproved">
                                <div class="form-group">
                                    <label>Approved/UnApproved/All</label>
                                    <div class="input-group col-lg-12 col-sm-12">
                                        <select id="Approved" name="Approved">
                                            <option value="1" selected="selected">All</option>
                                            <option value="2">Approved</option>
                                            <option value="3">UnApproved</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 col-sm-12" id="divProductType">
                                <div class="form-group">
                                    <label>Product Type</label>
                                    <Select id="ProductType" name="ProductType" asp-items="@ViewBag.ProductTypeLOV">
                                        <option value="0" selected="selected">Select All</option>
                                    </Select>
                                </div>
                            </div>
                            <div class="col-lg-2 col-sm-12" id="divSeason">
                                <div class="form-group">
                                    <label>Select Season</label>
                                    <Select id="Season" name="Season" asp-items="@ViewBag.Season">
                                        <option value="0" selected="selected">Select All</option>
                                    </Select>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-11 col-sm-11" id="divVehicalNo" style="margin-left:20px">
                                <div class="form-group" id="vehicleNo" style="display:none;">
                                    <label>Vehicle #</label>
                                    <div class="input-group col-lg-12 col-sm-12">
                                        <input type="text" name="VehicleNo" class="form-control" id="VehicleNo" />
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-lg-2 col-md-12 col-sm-12" id="divDCNo">
                                <div class="form-group">
                                    <label>DC#</label>
                                    <div class="input-group col-lg-12 col-sm-12">
                                        <select asp-items="@ViewBag.DCNo"  id="DCNo" name="DCNo">
                                            <option value="0" selected="selected">Select All...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-12 col-sm-12" id="divInvoiceNo">
                                <div class="form-group">
                                    <label>Invoice#</label>
                                    <div class="input-group col-lg-12 col-sm-12">
                                        <select asp-items="@ViewBag.InvoiceNo"  id="InoviceNo" name="InvoiceNo">
                                            <option value="0" selected="selected">Select All...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-5 col-sm-6" id="divItems">
                                <div class="form-group">
                                    <label>Select Items</label>
                                    <div class="input-group col-lg-12 ">
                                        <select asp-items="@ViewBag.Items" id="Item" name="Item">
                                            <option value="0" selected="selected">Select All...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-5 col-sm-6" id="divCategories">
                                <div class="form-group">
                                    <label>Select Categories wise</label>
                                    <div class="input-group col-lg-12 col-sm-12">
                                        <select asp-items="@ViewBag.Categories" id="Categories" name="Categories">
                                            <option value="0" selected="selected">Select All</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                             <div class="col-lg-5 col-sm-6" id="divagents">
                                <div class="form-group">
                                    <label>Select Agent wise</label>
                                    <div class="input-group col-lg-12 col-sm-12">
                                        <select asp-items="@ViewBag.Agent" id="Agent" name="Agent">
                                            <option value="0" selected="selected">Select All...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-lg-5 col-sm-6" id="divFourthLevel">
                                <div class="form-group">
                                    <label>Select Brand</label>
                                    <div class="input-group col-lg-12 col-sm-12">
                                        <select asp-items="@ViewBag.Brand" id="Brand" name="Brand">
                                            <option value="0" selected="selected">Select All</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                         <div class="row">
                            <div class="col-lg-5 col-sm-6" id="divRecoveryCategory">
                                <div class="form-group">
                                    <label>Recovery Categories</label>
                                    <div class="input-group col-lg-12">
                                        <select name="RecoveryCategory" id="RecoveryCategory"  asp-items="@ViewBag.CategoryType">
                                            <option value="0" selected="selected">Select All</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>   
                         <div class="row">
                            <div class="col-lg-5 col-sm-6" id="divSecondItemCategory">
                                <div class="form-group">
                                    <label>2nd Item Category</label>
                                    <div class="input-group col-lg-12">
                                        <select name="SecondItemCategory" id="SecondItemCategory"  asp-items="@ViewBag.SecondItemCategory">
                                            <option value="0" selected="selected">Select All</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class=row>
                             <div class="col-lg-5 col-sm-6 " id="divSalePerson">
                                <div class="form-group">
                                    <label>Select Sales Person wise</label>
                                    <div class="input-group col-lg-12">
                                        <select name="SalesPerson" id="SalesPerson"  asp-items="@ViewBag.SalesPerson">
                                            <option value="0" selected="selected">Select All</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-lg-5 col-sm-6" id="divManufacturer">
                                <div class="form-group">
                                    <label>Select Manufactures wise</label>
                                    <div class="input-group col-lg-12">
                                        <select name="Manufacturers" id="Manufacturers"  asp-items="@ViewBag.Manufactures">
                                            <option value="0" selected="selected">Select All</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-5 col-sm-6 " id="divCustomers">
                                <div class="form-group">
                                    <label>Select Customer wise</label>
                                    <div class="input-group col-lg-12">
                                        <select name="Customers" id="Customers"  asp-items="@ViewBag.customers">
                                            <option value="0" selected="selected">Select All</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                           
                            <div class="col-lg-5 col-sm-6" id="divCustomerCategory">
                                <div class="form-group">
                                    <label>Select by Customer Category</label>
                                    <div class="input-group col-lg-12">
                                        <select name="CustomerCategory" id="CustomerCategory"  asp-items="@ViewBag.CustomerCategory">
                                            <option value="0" selected="selected">Select All</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-5 col-sm-6" id="divCities">
                                <div class="form-group">
                                    <label>Select by Cities</label>
                                    <div class="input-group col-lg-12">
                                        <select name="Cities" id="Cities"  asp-items="@ViewBag.Cities">
                                            <option value="0" selected="selected">Select All</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="text-left">
                                <input type="button" value="Preview" class="btn btn-primary" onclick="return generateReport();" />
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="~/js/jquery-3.1.1.min.js"></script>
<script src="~/lib/dualListbox/jquery.bootstrap-duallistbox.js"></script>
<script src="~/js/AR/Report.js"></script>
<script>
    $('#ReportTitle').change(function () {
        var ReportTitle = $('#ReportTitle').val();

        if (ReportTitle == "CustomerWiseSalesSummary") {
            $('#typehead').css("display", "block");
        }
        else if (ReportTitle == "CustomerWiseOGP") {
            $('#vehicleNo').css("display", "block");
        }
        else {
            $('#typehead').css("display", "none");
        }

    });

</script>

<script>
    //var byItems = $('select[name="Items"]').bootstrapDualListbox({

    //    selectorMinimalHeight: 160
    //});
    ////displays GetItems in dual-list-box
    //$.get('/Inventory/Api/GetItemsForReport').done(function (e) {
    //    debugger;
    //    var html = '';
    //    $.each(e, function (i, e) {
    //        html += '<option selected value="' + e.id + '"> ' + e.text + '</option>'
    //    });
    //    $('select[name="Items"]').html(html);
    //    byItems.bootstrapDualListbox('refresh');
    //});


    //category-wise
    //var byCategories = $('select[name="Categories"]').bootstrapDualListbox({
    //    selectorMinimalHeight: 160
    //});
    ////displays GetCategories in dual-list-box
    //$.get('/Inventory/Api/GetCategories').done(function (e) {
    //    var html = '';
    //    $.each(e, function (i, e) {
    //        html += '<option selected value="' + e.value + '"> ' + e.text + '</option>'
    //    });
    //    $('select[name="Categories"]').html(html);
    //    $('select[name="Categories"]').find("option").eq(0).remove();//this removes 1st option in selectList
    //    byCategories.bootstrapDualListbox('refresh');
    //});

    ////manufacture-wise
    //var byManufactures = $('select[name="Manufacturers"]').bootstrapDualListbox({
    //    selectorMinimalHeight: 160
    //});
    ////displays GetManufactures in dual-list-box
    //$.get('/Inventory/Api/GetManufactures').done(function (e) {
    //    var html = '';
    //    $.each(e, function (i, e) {
    //        html += '<option selected value="' + e.id + '"> ' + e.text + '</option>'
    //    });
    //    $('select[name="Manufacturers"]').html(html);
    //    byManufactures.bootstrapDualListbox('refresh');
    //});
</script>
<script>

    //saleperosn wise
    //var bySalesPerson = $('select[name="SalesPerson"]').bootstrapDualListbox({
    //    selectorMinimalHeight: 160,
    //});
    ////displays Items in dual-list-box
    //$.get('/AR/Api/GetSalesPersonForReport').done(function (e) {
    //    var html = '';
    //    $.each(e, function (i, e) {
    //        html += '<option selected value="' + e.id + '"> ' + e.text + '</option>'
    //    });
    //    $('select[name="SalesPerson"]').html(html);
    //    bySalesPerson.bootstrapDualListbox('refresh');
    //});
</script>
<script>
    ////by customers
    //var byCustomer = $('select[name="Customers"]').bootstrapDualListbox({
    //    selectorMinimalHeight: 160,
    //});
    ////displays Items in dual-list-box
    //$.get('/AR/Api/GetCustomersForReport').done(function (e) {
    //    var html = '';
    //    $.each(e, function (i, e) {
    //        html += '<option selected value="' + e.id + '"> ' + e.text + '</option>'
    //    });
    //    $('select[name="Customers"]').html(html);
    //    byCustomer.bootstrapDualListbox('refresh');
    //});

    //by cities
    //    var byCity= $('select[name="Cities"]').bootstrapDualListbox({
    //    selectorMinimalHeight: 160,
    //});
    // //displays Items in dual-list-box
    //    $.get('/AR/Api/GetCities').done(function (e) {
    //    var html = '';
    //    $.each(e, function (i, e) {
    //        html += '<option selected value="'+e.id+'"> '+e.text+'</option>'
    //    });
    //        $('select[name="Cities"]').html(html);
    //        byCity.bootstrapDualListbox('refresh');
    //    });
    //Customercategory-wise

</script>
<script>
    //var byCustomerCategories = $('select[name="CustomerCategory"]').bootstrapDualListbox({
    //    selectorMinimalHeight: 160
    //});
    ////displays GetCategories in dual-list-box
    //$.get('/AR/Api/GetAllCustomersCategories').done(function (e) {
    //    var html = '';
    //    $.each(e, function (i, e) {
    //        html += '<option selected value="' + e.id + '"> ' + e.text + '</option>'
    //    });
    //    $('select[name="CustomerCategory"]').html(html);
    //    /*  $('select[name="Customer Category"]').find("option").eq(0).remove();*///this removes 1st option in selectList
    //    byCustomerCategories.bootstrapDualListbox('refresh');
    //});
</script>

<script>
    $(document).ready(function () { 
        $("#SONo").select2();
        $("#Item").select2();
        $("#Categories").select2();
        $("#Manufacturers").select2();
        $("#Customers").select2();
        $("#SalesPerson").select2();
        $("#CustomerCategory").select2();
        $("#Cities").select2();
        $("#DCNo").select2();
        $("#InoviceNo").select2();
        $("#ProductType").select2();
        $("#Season").select2();
        $("#Brand").select2();
        $("#Agent").select2();
        $("#RecoveryCategory").select2();
        $("#SecondItemCategory").select2();
        //Season
    })
</script>




